# Trading System Environment Variables
# This file contains all configuration for the trading system
# Update the values below with your actual settings

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
SYSTEM_NAME=Automated Trading System
SYSTEM_VERSION=1.0.0
LOG_LEVEL=INFO

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
# Market timings (IST)
MARKET_OPEN=09:15
MARKET_CLOSE=15:30
PRE_OPEN_START=09:00
PRE_OPEN_END=09:15

# Trading mode (true for live trading, false for simulation)
LIVE_TRADING=false

# =============================================================================
# RISK MANAGEMENT
# =============================================================================
MAX_CAPITAL_PER_TRADE=0.01
MAX_CONCURRENT_TRADES=10
DAILY_LOSS_LIMIT=0.02
SINGLE_NAME_EXPOSURE_LIMIT=0.05

# =============================================================================
# MOMENTUM STRATEGY
# =============================================================================
MOMENTUM_UNIVERSE=NIFTY_100
MOMENTUM_REBALANCE_CADENCE=daily
MOMENTUM_LOOKBACK_PERIOD=20
MOMENTUM_MIN_VOLUME_FILTER=100000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# For Docker deployment (used by ./run.sh dev)
DATABASE_URL=postgresql://trader:trader_password@database:5432/trading_system
POSTGRES_DB=trading_system
POSTGRES_USER=trader
POSTGRES_PASSWORD=trader_password

# For local development without Docker (uncomment to use)
# DATABASE_URL=sqlite:///trading_system.db

# =============================================================================
# WEB INTERFACE
# =============================================================================
FLASK_ENV=production
WEB_HOST=0.0.0.0
WEB_PORT=5001
WEB_DEBUG=false


# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password


# =============================================================================
# APPLICATION PATHS
# =============================================================================
PYTHONPATH=/app

# =============================================================================
# FYERS API CREDENTIALS
# =============================================================================
# Add your Fyers API credentials here
FYERS_CLIENT_ID=YOUR_APP_ID_HERE
FYERS_API_SECRET=YOUR_SECRET_KEY_HERE
FYERS_ACCESS_TOKEN=YOUR_ACCESS_TOKEN_HERE

# =============================================================================
# STOCK SCREENING CONFIGURATION
# =============================================================================

# STAGE 1: MARKET DATA SCREENING PARAMETERS
# Basic quotes screening criteria
SCREENING_MIN_PRICE_THRESHOLD=50.0
SCREENING_MIN_DAILY_VOLUME=50000
SCREENING_MAX_DAILY_CHANGE_PERCENT=25.0
SCREENING_BATCH_SIZE=50
# Fyers API limit: 10 req/s, using 0.3s for extra safety (3.3 req/s)
SCREENING_QUOTES_RATE_LIMIT_DELAY=0.3

# Volatility screening criteria
SCREENING_MAX_ATR_PERCENTAGE=5.0
SCREENING_MIN_AVG_VOLUME_20D=100000
SCREENING_MAX_BID_ASK_SPREAD=2.0
SCREENING_MIN_HISTORICAL_VOLATILITY=10.0
SCREENING_MAX_HISTORICAL_VOLATILITY=60.0
SCREENING_MAX_BETA=1.2

# STAGE 2: BUSINESS LOGIC SCREENING PARAMETERS
# Sector and portfolio allocation
SCREENING_MAX_SECTOR_ALLOCATION=30.0
SCREENING_MIN_MARKET_CAP_CRORES=500
SCREENING_MAX_FINAL_STOCKS=50
SCREENING_MAX_POSITION_SIZE=5.0

# Fundamental ratio filters
SCREENING_MAX_PE_RATIO=50.0
SCREENING_MIN_ROE=5.0
SCREENING_MAX_DEBT_EQUITY=2.0
SCREENING_MIN_DIVIDEND_YIELD=0.0

# =============================================================================
# VOLATILITY CALCULATION CONFIGURATION
# =============================================================================

# Daily volatility update settings
VOLATILITY_MAX_STOCKS=500
VOLATILITY_BATCH_SIZE=20
# Fyers API limit: 10 req/s, using 0.3s for extra safety (3.3 req/s)
VOLATILITY_RATE_LIMIT_DELAY=0.3
VOLATILITY_MAX_WORKERS=3
VOLATILITY_HISTORICAL_DAYS=365

# Volatility calculation periods
VOLATILITY_ATR_PERIOD=14
VOLATILITY_BETA_PERIOD=252
VOLATILITY_HISTORICAL_VOLATILITY_PERIOD=252
VOLATILITY_VOLUME_AVERAGE_PERIOD=20

# Enable/disable full stock refresh before volatility calculation
VOLATILITY_FULL_REFRESH=false

# Volatility freshness checking
VOLATILITY_UPDATE_HOURS=24
