# Stock Discovery Service Configuration
# This file contains all configurable parameters for stock filtering and discovery

# Stage 1: Basic Stock Filtering Criteria
stage_1_filters:
  # Basic tradeability criteria
  tradeability:
    minimum_price: 5.0           # Minimum stock price in INR
    maximum_price: 10000.0        # Maximum stock price in INR (avoid extreme prices)
    minimum_volume: 10000         # Minimum daily volume
    minimum_liquidity_score: 0.3  # Minimum liquidity score (0-1)

  # Market capitalization categories (in crores)
  market_cap_categories:
    large_cap:
      minimum: 20000              # Above 20,000 crores
      label: "large_cap"
    mid_cap:
      minimum: 5000               # 5,000 to 20,000 crores
      maximum: 20000
      label: "mid_cap"
    small_cap:
      maximum: 5000               # Below 5,000 crores
      label: "small_cap"

  # Price-based volume criteria for analysis
  price_volume_thresholds:
    analysis:
      minimum_price: 1.0          # Skip stocks below this price in analysis
      minimum_volume: 1000        # Skip stocks below this volume in analysis

# Liquidity Score Calculation Parameters
liquidity_scoring:
  volume_normalization: 1000000   # Normalize volume to this value (1M shares)
  weights:
    volume: 0.7                   # Weight for volume component
    spread: 0.3                   # Weight for spread component
  spread_multiplier: 10           # Multiplier for spread percentage in scoring

  # Database-based liquidity scoring
  database_scoring:
    volume_weight: 0.8            # Higher weight for volume when using database
    price_stability_weight: 0.2   # Weight for price stability
    stable_price_range:
      minimum: 100                # Stocks in this price range get higher stability score
      maximum: 1000
    stable_price_score: 0.8       # Score for stocks in stable range
    unstable_price_score: 0.6     # Score for stocks outside stable range

# Shares Outstanding Estimation Parameters
shares_estimation:
  # Price-based ranges for shares outstanding (in number of shares)
  high_price_stocks:              # Price > 1500
    price_threshold: 1500
    shares_range_min: 50000000   # 5 crore shares
    shares_range_max: 300000000  # 30 crore shares

  mid_high_price_stocks:          # Price 500-1500
    price_threshold: 500
    shares_range_min: 100000000  # 10 crore shares
    shares_range_max: 800000000  # 80 crore shares

  medium_price_stocks:            # Price 100-500
    price_threshold: 100
    shares_range_min: 200000000  # 20 crore shares
    shares_range_max: 1500000000 # 150 crore shares

  low_price_stocks:               # Price < 100
    shares_range_min: 500000000  # 50 crore shares
    shares_range_max: 5000000000 # 500 crore shares

  # Volume-based adjustments
  volume_adjustments:
    high_volume_threshold: 200000
    high_volume_multiplier_min: 0.8
    high_volume_multiplier_max: 1.2

    medium_volume_threshold: 50000
    medium_volume_multiplier_min: 0.9
    medium_volume_multiplier_max: 1.3

    low_volume_multiplier_min: 1.0
    low_volume_multiplier_max: 2.0

# Database Query Configuration
database:
  screening_limit: 1000           # Maximum stocks to retrieve for screening

# Cache Configuration
cache:
  duration_seconds: 3600          # Cache duration in seconds (1 hour)

# API Rate Limiting and Batch Processing
api_processing:
  quote_batch_size: 20            # Number of stocks per batch for quote retrieval
  quote_rate_limit_delay: 0.5     # Delay between quote batch API calls (seconds)

# Sector Detection Keywords
sector_keywords:
  Banking:
    - "BANK"
    - "FINANCE"
    - "FINANCIAL"
    - "LENDING"
    - "CREDIT"

  Technology:
    - "IT"
    - "TECH"
    - "SOFTWARE"
    - "SYSTEM"
    - "COMPUTER"
    - "DIGITAL"

  Pharmaceutical:
    - "PHARMA"
    - "DRUG"
    - "MEDICINE"
    - "HEALTHCARE"
    - "BIO"
    - "LABORATORY"

  Automobile:
    - "AUTO"
    - "MOTOR"
    - "VEHICLE"
    - "TRANSPORT"
    - "LOGISTICS"

  FMCG:
    - "FMCG"
    - "CONSUMER"
    - "FOOD"
    - "BEVERAGE"
    - "RETAIL"

  Metals:
    - "METAL"
    - "STEEL"
    - "IRON"
    - "COAL"
    - "MINING"
    - "ALUMINIUM"

  Energy:
    - "ENERGY"
    - "POWER"
    - "OIL"
    - "GAS"
    - "PETROLEUM"
    - "SOLAR"
    - "ELECTRIC"

  Infrastructure:
    - "INFRA"
    - "CEMENT"
    - "CONSTRUCTION"
    - "BUILDING"
    - "ENGINEERING"

  Telecommunications:
    - "TELECOM"
    - "COMMUNICATION"
    - "WIRELESS"
    - "NETWORK"

  Textiles:
    - "TEXTILE"
    - "COTTON"
    - "FABRIC"
    - "GARMENT"
    - "APPAREL"

# Logging Configuration
logging:
  enable_discovery_summary: true  # Log summary of discovered stocks
  top_stocks_per_category: 5      # Number of top stocks to log per category